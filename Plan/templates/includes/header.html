{% load static %}
<header>
    {% with request.resolver_match.view_name as view_name %}
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        
            <div class="container-md">
                <ul class="nav nav-pills">
                    {% if case %}
                    <li> <a type="button" class="btn btn-light"
                           href="{% url 'train:cases_list' case.train.id %}">Вернуться к списку замечаний</a></li>
                    {% endif %}
                </ul>
                    {% if request.user.is_authenticated %}
                        <a type="button" class="btn btn-light"
                           href="{% url 'train:train_list' %}">Все поезда</a>

                            <a type="button" class="btn btn-light" {% if view_name  == 'users:password_change' %}active{% endif %}"
                               href="{% url 'users:password_change' %}">Изменить
                                пароль</a>
      
                            <a type="button" class="btn btn-light"  {% if view_name  == 'users:logout' %}active{% endif %}"
                               href="{% url 'users:logout' %}">Выйти</a>
    
                            <a type="button" class="btn btn-light">
                                Пользователь: {{ user.username }}</a>

                    {% else %}
    
                            <a class="navbar-brand" {% if view_name  == 'users:login' %}active{% endif %}"
                               href="{% url 'users:login' %}">Войти</a>
  
   
                            <a class="navbar-brand" {% if view_name  == 'users:signup' %}active{% endif %}"
                               href="{% url 'users:signup' %}">Регистрация</a>

                    {% endif %}
                </ul>
            </div>
        </nav>
    {% endwith %}
</header>